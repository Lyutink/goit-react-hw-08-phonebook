"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[932],{4932:function(n,e,t){t.r(e),t.d(e,{ContactsView:function(){return E}});var r,i,a,o,s=t(885),d=t(2791),c=t(5065),l=t(5705),h=t(3284),p=t(168),u=t(6031),m=u.ZP.h1(r||(r=(0,p.Z)(["\n  padding-bottom: 24px;\n  padding-left: 12px;\n  font-size: 1.5rem;\n  font-weight: 700;\n"]))),g=u.ZP.div(i||(i=(0,p.Z)(["\n  margin-left: 12px;\n  max-width: 320px;\n  padding: 8px;\n  border: solid;\n"]))),x=u.ZP.label(a||(a=(0,p.Z)(["\n  display: block;\n  margin-top: 12px;\n\n  font-size: 1.2rem;\n  font-weight: 500;\n"]))),f=u.ZP.button(o||(o=(0,p.Z)(["\n  display: block;\n  margin-top: 12px;\n  border-radius: 5px;\n\n  cursor: pointer;\n"]))),Z=t(184),b=h.Ry({name:h.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan").required("Please enter your name, it is required"),number:h.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number must be digits (at least 5 symbols long), it can contain spaces, dashes, parentheses and can start with +").required("Please enter your phone number, it is required")});function j(n){var e=n.onSubmit,t=n.adding;return(0,Z.jsx)(l.J9,{enableReinitialize:!0,initialValues:{name:"",phone:""},validationSchema:b,onSubmit:function(n,t){var r=t.resetForm;e(n),r()},children:(0,Z.jsx)(l.l0,{autoComplete:"off",children:(0,Z.jsxs)(g,{children:[(0,Z.jsx)(x,{htmlFor:"name",children:"Name"}),(0,Z.jsx)(l.gN,{type:"text",name:"name"}),(0,Z.jsx)(l.Bc,{name:"name"}),(0,Z.jsx)(x,{htmlFor:"phone",children:"Phone"}),(0,Z.jsx)(l.gN,{type:"tel",name:"phone"}),(0,Z.jsx)(l.Bc,{name:"phone"}),(0,Z.jsx)(f,{type:"submit",children:t?"Adding...":"Add contact"})]})})})}var C,w,v,y,P,L,z,k=t(2007),_=t.n(k),q=u.ZP.h2(C||(C=(0,p.Z)(["\n  padding-left: 12px;\n  font-size: 1.5rem;\n  font-weight: 500;\n"]))),F=u.ZP.li(w||(w=(0,p.Z)(["\n  margin-top: 4px;\n  font-size: 1.2rem;\n  font-weight: 400;\n"]))),A=u.ZP.span(v||(v=(0,p.Z)(["\n  margin-right: 10px;\n  font-size: 30px;\n  font-weight: 500;\n"]))),R=u.ZP.span(y||(y=(0,p.Z)(["\n  margin-right: 10px;\n  font-size: 30px;\n  font-weight: 500;\n"]))),N=u.ZP.button(P||(P=(0,p.Z)(["\n  margin-left: 8px;\n  border-radius: 5px;\n\n  cursor: pointer;\n"])));function S(n){var e=n.name,t=n.phone,r=n.idContact,i=(0,c.Nt)(),a=(0,s.Z)(i,2),o=a[0],d=a[1].isLoading;return(0,Z.jsxs)(F,{children:[(0,Z.jsxs)("p",{children:[(0,Z.jsxs)(A,{children:[e,":"]}),(0,Z.jsx)(R,{children:t})]}),(0,Z.jsx)(N,{type:"button",onClick:function(){return o(r)},children:d?"Deleting":"Delete"})]})}function B(n){var e=n.getContactList;return(0,Z.jsx)("ul",{children:e.map((function(n){var e=n.id,t=n.name,r=n.phone;return(0,Z.jsx)(S,{name:t,phone:r,idContact:e},e)}))})}S.propTypes={getContactList:_().arrayOf(_().shape({id:_().string.isRequired,name:_().string.isRequired,phone:_().string.isRequired}).isRequired)};var J=u.ZP.label(L||(L=(0,p.Z)(["\n  display: block;\n  margin-left: 12px;\n  font-size: 1.2rem;\n  font-weight: 500;\n"]))),D=u.ZP.input(z||(z=(0,p.Z)(["\n  margin-top: 8px;\n  margin-left: 12px;\n"])));function V(n){var e=n.filter,t=n.onChange;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(J,{children:"Find contacts by Name"}),(0,Z.jsx)(D,{type:"text",value:e,onChange:t})]})}V.prototype={filter:_().string,onChange:_().func.isRequired};var E=function(){var n=(0,c.Jx)(),e=n.data,t=n.isFetching,r=n.isError,i=(0,c.Lr)(),a=(0,s.Z)(i,2),o=a[0],l=a[1].isLoading,h=(0,d.useState)(""),p=(0,s.Z)(h,2),u=p[0],g=p[1];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(m,{children:"Phonebook"}),(0,Z.jsx)(j,{onSubmit:function(n){var e=n.name,t=n.phone;!function(n){var e=n.toLowerCase();return!function(n){return e===n.name.toLowerCase()}}(e)?o({name:e,phone:t}):alert("".concat(e," is already in contacts."))},adding:l}),(0,Z.jsx)(q,{children:"Contacts"}),(0,Z.jsx)(V,{value:u,onChange:function(n){g(n.target.value)}}),(0,Z.jsxs)(Z.Fragment,{children:[r&&(0,Z.jsx)("h2",{children:" Something went wrong "}),t&&(0,Z.jsx)("h2",{children:" Loading contacts..."}),e&&(0,Z.jsx)(B,{getContactList:function(){var n=u.toLocaleLowerCase();return e.filter((function(e){return e.name.toLocaleLowerCase().includes(n)}))}()})]})]})}}}]);
//# sourceMappingURL=932.8d332d5e.chunk.js.map